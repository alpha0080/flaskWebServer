<!DOCTYPE html>
<html lang="en">

<head>
    <!--
    <link href="{{url_for('static',filename='css/fileinput.min.css')}}" rel="stylesheet">
    <link href="{{url_for('static',filename='css/fileinput-rtl.min.css')}}" rel="stylesheet">
    <link href="{{url_for('static',filename='dropzone/dropzone.css')}}" rel="stylesheet">
    <script src="{{url_for('static', filename='dropzone/dropzone.js')}}"></script>
    <script src="https://rawgit.com/enyo/dropzone/master/dist/dropzone.js"></script>
<link rel="stylesheet" href="https://rawgit.com/enyo/dropzone/master/dist/dropzone.css">
    <link href="{{url_for('static',filename='css/dropzone.css')}}" rel="stylesheet">
    <script src="{{url_for('static', filename='dropzone/dropzone.js')}}"></script>


    
    
    
    -->
    <!-- meta使用viewport以确保页面可自由缩放 -->
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- 引入 jQuery Mobile 样式 -->
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css">

    <!-- 引入 jQuery 库 -->
    <script src="http://code.jquery.com/jquery-1.11.3.min.js"></script>

    <!-- 引入 jQuery Mobile 库 -->
    <script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
    <link href="{{url_for('static',filename='css/dropzone.min.css')}}" rel="stylesheet">
    <script src="{{url_for('static', filename='dropzone/dropzone.min.js')}}"></script>
    <!--
	<link href="{{url_for('static',filename='css/jquery-ui.css')}}" rel="stylesheet">

	<script src="{{url_for('static', filename='jqueryUI/jquery.js')}}"></script>
-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script src="{{url_for('static', filename='jqueryUI/jqpaginator.min.js')}}"></script>
    <title>Document</title>

</head>

<body>

    <style>
        .tableTr {
            background-color:transparent;
            table-layout: fixed;
            text-align: left;
            vertical-align: middle;

        }

        .projectIcon {
            width: 20;
            font-size: 12px;
            background-color: black;
            color: azure
        }



        .position-fixed-top {
            position: fixed;
            top: 10;
            left: 0;
            background: rgb(0, 0, 0);
            color: #fff;
            text-align: center;
            text-decoration: none;
        }

        .position-fixed {
            position: fixed;
            top: 100px;
            left: 500px;
            background: rgb(0, 0, 0);
            color: #fff;
            text-align: center;
            text-decoration: none;
        }

        .position-sticky-left {
            position: relative;
            top: 10px;
            left: 10px;
            background: rgb(255, 255, 255);
            color: #fff;
            text-align: center;
            text-decoration: none;
            z-index: 500 !important;
        }


        .zIndexA {
            z-index: 1000 !important;

        }

        .td_project {}
    </style>

    <div class="container-fluid">
        <div class="row clearfix">
            <!-- left side start-->
            <div class="col-lg-4 column" id="divSideLeft">
                <div class="bg-dark">
                    <nav class="navbar navbar-expand-sm bg-light navbar-light zIndexA">
                        <ul class="navbar-nav">
                            <li class="nav-item ">
                                <a class="nav-link" href="#">QC</a>
                            </li>
                            <li class="nav-item active">
                                <a class="nav-link" href="#">進行中</a>
                            </li>
                            <li class="nav-item ">
                                <a class="nav-link" href="#">最近</a>
                            </li>
                            <li class="nav-item ">
                                <a class="nav-link" href="#">已完成</a>
                            </li>
                        </ul>
                    </nav>
                </div>

                <div class="bg-light ">

                    <table class="table col-lg table-hover tableTr  " id="tableLeft">
                        <thead>
                            <tr>
                                <th style="width:140px">專案名稱</th>
                                <th style="width:300px"></th>
                                <th></th>

                            </tr>

                        </thead>
                        <tbody id="tableBodyLeft">


                        </tbody>
                    </table>


                </div>
            </div>
            <!-- left side end-->
            <div class="col-lg-8 column">
                <nav class="navbar navbar-expand-lg bg-dark navbar-dark">
                    <ul class="navbar-nav">
                        <li class="nav-item active">
                            <a class="nav-link" href="#">圖檔</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">影片</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">引擎</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">企劃書</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">製作 Asset</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">製作 Shot</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link disabled" href="#">Disabled</a>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
    </div>

    <script>
        $(document).ready(function() {
            // $("#tableLeft").css({
            //    top: 0
            //});
            $("#tableLeft").disableSelection();
            $("#divSideLeft").disableSelection();

            $.getJSON("/mydict", function(data) {
                console.log(typeof(data))
                console.log(data.length)
                for (var i = 0; i < data.length; i++) { //data.length
                    // console.log(data[i]);
                    projectName = data[i][8]
                    projectCNName = data[i][10]
                    //   console.log("projectCNName",projectCNName)
                    //userSec = data[i][19]
                    var tdID = "leftTd:"+ projectName 
                    var tdImageID = "leftTdImageID:"+ projectName 

                    console.log("tdID",tdID)
                    var $tr = $('<tr class="table-active"' +
                        '></tr>');
                    var $td1 = $('<td class="td_project " style="border: 0px" id="num">' + " " + '</td>');
                    var $tdRadio1 =  $('<input type="radio" aria-label="Radio button for following text input">')
                    var $td2 = $('<td class="td_project" style="border: 0px;font-size: 12px;text-align: left"'+
                                 'id="'+projectName+'"'+
                                 '>' +
                        '<h7 class="text-success td_project  ">' + projectCNName + '</h7>' + '<br>' +
                        '<h6 class="text-info td_project">' + projectName + '</h6>' +
                        '</td>');
                    var imageName = "http://vg.com/assets/simpleslot/" + projectName + "/icon/" + projectName + "_v001_icon.png"
                    // console.log(i,typeof(imageName),imageName)
                    var $td3 = $('<img src="' +
                        imageName + '"' +
                        'class="img-thumbnail td_project" style="padding:2px"'+
                                 'id="'+projectName +'"'+
                                 '>');
                    // console.log(imageName)
                    var $tr2 = $('<tr class="td_project btn btn-light" style="height:5px;"></tr>');
                    var $td4 = $('<td class="td_project btn btn-light" style="border: 0px;font-size:2px;line-height: 2px">' + '</td>');

                    //var $td4 = $('<button class="button" style="height:20 px">ba</button>');
                    //    var $td4 = $('<td class="td_content4">' + userSec + '</td>'); style="font-size: 10px"style="text-align: left"

                    // '<img src="http://vg.com/assets/simpleslot/battle_of_ball/icon/battle_of_ball_v001_icon.png" class="img-thumbnail ">' +
                    //http://vg.com/assets/simpleslot/battle_of_ball/icon/battle_of_ball_v001_icon.png


                    $("#tableBodyLeft").append($tr);
                   // $("#tableBodyLeft").append($td1);

                    $("#tableBodyLeft").append($td3);

                    $("#tableBodyLeft").append($td2);
                    $td2.click(function() {
                   // console.log($(this).text());
                   console.log($(this).attr("id"));
                  // console.log($(this).text());
                        });
                    $td3.click(function() {
                    console.log($(this).text());
                   console.log($(this).attr("id"));
                  // console.log($(this).text());
                        });
                    jQuery(".img-thumbnail").error(function(e) {
                        //圖片失連
                        jQuery(e.target).attr("src", "http://vg.com/assets/simpleslot/qc_db/icon/no_image.png");
                    });


                }
            });

        })



        function isEventSupported(eventName) {
            var el = document.createElement('div');
            eventName = 'on' + eventName;
            var isSupported = (eventName in el);
            if (!isSupported) {
                el.setAttribute(eventName, 'return;');
                isSupported = typeof el[eventName] == 'function';
            }
            el = null;
            return isSupported;
        }

        $(document).ready(function() {

            // Check which wheel event is supported. Don't use both as it would fire each event 
            // in browsers where both events are supported.
            var wheelEvent = isEventSupported('mousewheel') ? 'mousewheel' : 'wheel';

            // Now bind the event to the desired element
            $('#divSideLeft').on(wheelEvent, function(e) {
                var oEvent = e.originalEvent,
                    delta = oEvent.deltaY || oEvent.wheelDelta;
                //console.log($("#projectTable").scrollTop())
                console.log("delta", delta)
                // deltaY for wheel event
                // wheelData for mousewheel event

                if (delta > 0) {

                    var y = scrollDown("#tableLeft")
                } else {

                    var y = scrollUp("#tableLeft")
                }


            });


        })

        function scrollUp(item) {
            console.log("scroll up")
            var itemPosition = $(item).position()
            var ya = itemPosition.top
            //var y = parseInt($(item).offset().top)
            // itemPosition.top = 200
            //var scrollValue = 10
            ya = itemPosition.top - 10
            console.log("ya", ya)

            //console.log($(item).offset().top)
        }

        function scrollDown(item) {
            console.log("scroll down")
            var itemPosition = $(item).position()
            var yb = itemPosition.top
            // var y = parseInt($(item).offset().top)
            yb += 10
            console.log("yb", yb)
            // $(item).css({"top": yb});
        }

        var x1, y1, x2, y2, offleft, offtop, isclik = 0;
        // mouse click to drag Table
        $(function() {

            var wmax = 500 - $("#divSideLeft").width();
            var hmax = 300 - $("#divSideLeft").height();
            $("#divSideLeft").click(function() {});
            $("#divSideLeft").mousedown(function(e) {
                // console.log("down down")

                // x1=e.pageX;
                y1 = e.pageY;
                // offleft=parseInt($("#divSideLeft").css('left'));
                offtop = parseInt($("#divSideLeft").css('top'));
                isclik = 1;
                //console.log(y1)

                //$("#tableLeft").css({"top": y1})
            });
            $("#divSideLeft").mousemove(function(e) {
                //  console.log("move move")
                if (isclik == 1) {
                    // x2=e.pageX;
                    y2 = e.pageY;
                    //  var xx=x2-x1+offleft;
                    var yy = y2 - y1 + offtop;
                    //   if(xx>=0&&xx<wmax){
                    //   $(".first_line").css('left',xx+"px");
                    //      $("#tableLeft").css({"top": yy})
                    //   }
                    if (yy >= 0 && yy < hmax - 1) {
                        //   $(".first_line").css('top',yy+"px");
                        //      $("#tableLeft").css({"top": yy})

                    }
                    //   console.log("y2", y2)
                    // $("#tableLeft").css({"top": y2})
                } else {
                    isclik = 0
                    //     console.log("y2yyyy", y2)
                }

            }).mouseup(function() {
                //  console.log("up up")
                //  console.log("y2upupupup", y2)
                isclik = 0;
                var currentY = parseInt($("#tableLeft").position().top)
                moveY = currentY + (y2 - y1)
                //  console.log("moveY", moveY)
                if (moveY > 0) {
                    $("#tableLeft").css({
                        "top": 0
                    })
                } else {
                    $("#tableLeft").css({
                        "top": moveY
                    })
                }

            });

        })

        var maxList = 10
        var startNum = 10
        var endNum = 55
        //createTable(maxList, startNum, endNum)

        function createTable(maxList, startNum, endNum) {
            for (var i = startNum; i < endNum + 1; i++) {

                var $tr = $('<tr class="tr_content"></tr>');
                var $td1 = $('<td style="border: 0px">' +
                    i +
                    '</td>')
                var $td2 = $('<td style="vertical-align: middle;border: 0px">' +
                    '<img src="http://vg.com/assets/simpleslot/battle_of_ball/qc/win.png" class="rounded float-left " style="height:100px">' +

                    // '<img src="http://vg.com/assets/simpleslot/battle_of_ball/icon/battle_of_ball_v001_icon.png" class="img-thumbnail ">' +
                    '</td>');
                var $td3 = $('<td style="border: 0px">' +
                    'projectName' +
                    '</td>')


                $("#tableBodyLeft").append($tr);
                $("#tableBodyLeft").append($td1);

                $("#tableBodyLeft").append($td2);
                $("#tableBodyLeft").append($td3);



            };
        };




        $(function() { //get li text
            $('li').click(function() {
                //console.log($(this).text());
                console.log($(this).attr("id"));
                console.log($(this).text());
            });
            $('button').click(function() {
                //console.log($(this).text());
                console.log($(this).attr("id"));
                console.log($(this).text());
            });


            $('.td_project').click(function() {
                //console.log($(this).text());
                console.log($(this).attr("id"));
                console.log($(this).text());
            });
            $('td').click(function() {
                //console.log($(this).text());
                console.log($(this).attr("id"));
                console.log($(this).text());
            });
            $('a').click(function() {
                //console.log($(this).text());
                console.log($(this).attr("id"));
                console.log($(this).text());
            });
            $('.img-thumbnail').click(function() {
                //console.log($(this).text());
                console.log($(this).attr("id"));
                console.log($(this).text());
            });
        });
    </script>
</body>

</html>
